<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Surron Squad's 72V Build Garage</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Inter:wght@400;500;600;700&family=Permanent+Marker&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="surron_squad.css">
    <style>
        /* Style for selectable sections */
        .part-item {
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 1rem;
            border-radius: 10px;
            border: 2px solid transparent;
        }
        
        .part-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
        }
        
        .part-item.selected {
            border-color: var(--squad-primary);
            background-color: rgba(255, 72, 0, 0.05);
        }
        
        .selection-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--squad-primary);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s ease;
        }
        
        .part-item.selected .selection-indicator {
            opacity: 1;
            transform: scale(1);
        }
        
        .build-progress {
            background-color: rgba(23, 23, 25, 0.7);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }
        
        .build-progress h3 {
            margin-top: 0;
            margin-bottom: 1rem;
        }
        
        .selected-parts {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .selected-part {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 0.75rem;
            font-size: 0.9rem;
            border-left: 3px solid var(--squad-primary);
        }
        
        .build-config-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 2rem;
        }
        
        #build-completion {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-align: center;
            color: var(--squad-primary);
        }
        
        .progress-bar {
            height: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--squad-primary);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        @media (max-width: 768px) {
            .build-config-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div id="content" class="surron-squad-theme">
        <header>
            <h1>The Surron Squad's 72V Build Garage</h1>
            <p class="subtitle">Custom builds fueled by chaos, curiosity, and covert innovation</p>
            <div class="nav-buttons">
                <a href="surron_squad.html" class="btn">‚Üê Back to Squad HQ</a>
                <a href="buildpartsSelector.html" class="btn glow-effect">Build Your Own 72V Sur-Ron ‚Üí</a>
                <a href="saved_builds.html" class="btn">üíæ Saved Builds Library</a>
            </div>
        </header>

        <section id="intro">
            <h2>Project Overview</h2>
            <div class="two-column">
                <div class="column">
                    <p>The Sur-Ron Light Bee is one of the most popular lightweight electric motorcycles on the market. While the stock bike runs on a 60V system, this guide will help you build a more powerful 72V version with increased performance.</p>
                    <p>This upgrade will provide:</p>
                    <ul class="benefits">
                        <li>Increased top speed (potential 20-30% increase)</li>
                        <li>Improved torque and acceleration</li>
                        <li>Better hill-climbing ability</li>
                        <li>Faster throttle response</li>
                    </ul>
                    <p><strong>Note:</strong> This is an advanced build that requires technical knowledge. Modifications may void warranties and impact legality in some areas.</p>
                </div>
                <div class="column">
                    <div class="image-placeholder">
                        <img src="images/surron-bike.png" alt="Sur-Ron Light Bee Illustration" onerror="this.src='data:image/svg+xml;charset=UTF-8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'300\' height=\'200\' viewBox=\'0 0 300 200\'><rect fill=\'%23171719\' width=\'300\' height=\'200\'/><text fill=\'%23ff4800\' font-family=\'Arial\' font-size=\'24\' x=\'50%\' y=\'50%\' text-anchor=\'middle\'>Sur-Ron Illustration</text></svg>'">
                    </div>
                </div>
            </div>
        </section>

        <section id="squad-quotes">
            <h2>Squad Commentary</h2>
            <div class="squad-boxes">
                <div class="squad-member charlie">
                    <div class="member-profile">
                        <img src="images/surron-charlie-alert-pose.png" alt="Charlie 'Throttle' pointing enthusiastically">
                    </div>
                    <div class="member-details">
                        <h3><span class="member-icon">üçï</span>Charlie <span class="nickname">"Throttle"</span></h3>
                        <p class="quote">"Can we overvolt it? Let's do it anyway."</p>
                    </div>
                </div>
                <div class="squad-member billy">
                    <div class="member-profile">
                        <img src="images/surron-billy-fishing_ready-pose.png" alt="Billy 'Baggin's' with fishing rod">
                    </div>
                    <div class="member-details">
                        <h3><span class="member-icon">üé£</span>Billy <span class="nickname">"Baggin's"</span></h3>
                        <p class="quote">"I'd rather fish, but okay."</p>
                    </div>
                </div>
                <div class="squad-member tbd">
                    <div class="member-profile">
                        <img src="images/surron-tbd-terminal-ready.png" alt="TBD 'TBD' on laptop">
                    </div>
                    <div class="member-details">
                        <h3><span class="member-icon">üß†</span>TBD <span class="nickname">"TBD"</span></h3>
                        <p class="quote">"Heat mapping complete. Proceed."</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="specs">
            <h2>Specifications Comparison</h2>
            <button id="spec-comparison-btn" class="btn">Show Specifications</button>
            <table id="spec-table" style="display: none;">
                <thead>
                    <tr>
                        <th>Specification</th>
                        <th>Stock Sur-Ron X (60V)</th>
                        <th>Custom Build (72V)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Battery Voltage</td>
                        <td>60V</td>
                        <td>72V (20S configuration)</td>
                    </tr>
                    <tr>
                        <td>Battery Capacity</td>
                        <td>32Ah Panasonic/Samsung cells</td>
                        <td>30-40Ah Samsung 35E/40T or similar</td>
                    </tr>
                    <tr>
                        <td>Motor Type</td>
                        <td>PMSM (Mid-mounted)</td>
                        <td>Upgraded PMSM (5-6kW)</td>
                    </tr>
                    <tr>
                        <td>Controller</td>
                        <td>60V Sine Wave</td>
                        <td>72V Sine Wave (100A+)</td>
                    </tr>
                    <tr>
                        <td>Peak Torque</td>
                        <td>39Nm</td>
                        <td>~50-55Nm (estimated)</td>
                    </tr>
                    <tr>
                        <td>Top Speed</td>
                        <td>45-50 mph</td>
                        <td>55-65 mph (estimated)</td>
                    </tr>
                    <tr>
                        <td>Range</td>
                        <td>20-60 miles</td>
                        <td>20-50 miles</td>
                    </tr>
                    <tr>
                        <td>Weight</td>
                        <td>~110 lbs (with battery)</td>
                        <td>~120-130 lbs (estimated)</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="parts">
            <h2>Build Components</h2>
            <p class="section-intro">These are the key parts the Surron Squad uses to boost performance and confuse the neighbors. Click on components to add them to your build:</p>
            
            <div class="build-progress">
                <h3>Your Build Progress</h3>
                <div id="build-completion">0% Complete</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="build-progress-fill"></div>
                </div>
                <div class="selected-parts" id="selected-parts-container">
                    <div class="selected-part">Select components to start your build...</div>
                </div>
            </div>
            
            <ul id="parts-list" class="parts-grid"></ul>
            
            <div class="build-config-actions">
                <button id="configure-build-btn" class="btn glow-effect">Configure Your 72V Build</button>
                <button id="clear-selections-btn" class="btn">Clear Selections</button>
            </div>
        </section>

        <section id="build-process">
            <h2>Building Process</h2>
            <div class="build-steps">
                <div class="step">
                    <h3>Step 1: Frame Prep</h3>
                    <p>Reinforce the frame to survive Charlie's riding style.</p>
                </div>
                <div class="step">
                    <h3>Step 2: Battery Upgrade</h3>
                    <p>Assemble a proper 72V 20S pack‚ÄîTBD says "nothing under Samsung 35E."</p>
                </div>
                <div class="step">
                    <h3>Step 3: Motor + Controller</h3>
                    <p>Install a PMSM motor with cooling mods, paired with a sine wave controller. Billy asks if it will float.</p>
                </div>
                <div class="step">
                    <h3>Step 4: Transmission</h3>
                    <p>Belt + chain combo. Also doubles as bear deterrent.</p>
                </div>
                <div class="step">
                    <h3>Step 5: Suspension & Brakes</h3>
                    <p>Install adjustable forks + big rotors. Throttle breaks, brakes stop.</p>
                </div>
                <div class="step">
                    <h3>Step 6: Wiring & Components</h3>
                    <p>Wire display, throttle, lights. Use waterproof connectors and high gauge wiring for safety.</p>
                </div>
                <div class="step">
                    <h3>Step 7: Testing</h3>
                    <p>Turn it on. Hope for the best. TBD will log the data.</p>
                </div>
            </div>
        </section>

        <section id="resources">
            <h2>Resources & Extras</h2>
            <ul class="resources-list">
                <li><a href="https://sur-ronusa.com/sur-ron-light-bee/" target="_blank">Official Specs</a></li>
                <li><a href="#" onclick="downloadLore(); return false;">Surron Squad Lore</a></li>
                <li><a href="#" class="disabled">Battery Building Guide (Coming Soon)</a></li>
                <li><a href="#" class="disabled">Motor Selection Guide (Coming Soon)</a></li>
            </ul>
        </section>
        
        <footer>
            <p>¬© 2025 The Surron Squad - No warranties expressed or implied. Ride at your own risk.</p>
            <p class="squad-disclaimer">TBD would like us to mention that this is not legal advice. Charlie doesn't care. Billy was fishing.</p>
        </footer>
    </div>

    <script src="surron_squad.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load parts data
            const partsList = [
                {
                    name: 'Frame & Chassis',
                    description: 'Aluminum alloy 6061 T4/T6 frame, similar to Sur-Ron X Light Bee design',
                    stock: 'Sur-Ron uses forged aluminum with anodic oxidation',
                    upgrade: 'Consider reinforced frame to handle the 72V power increase',
                    squadTip: {
                        member: 'Charlie',
                        quote: 'Go with the stronger rear subframe. Trust me, I\'ve broken two stock ones.'
                    }
                },
                {
                    name: 'Motor',
                    description: 'High-performance PMSM mid-drive motor (5-6kW range)',
                    stock: 'Sur-Ron X uses 60V PMSM motor with 4300rpm rated speed',
                    upgrade: '72V compatible motor with improved cooling system',
                    squadTip: {
                        member: 'TBD',
                        quote: 'QS138 90H with forced air cooling is optimal. 20% efficiency increase observed.'
                    }
                },
                {
                    name: 'Battery',
                    description: '72V lithium-ion battery pack, 30-40Ah capacity',
                    stock: 'Sur-Ron uses 60V 32A Panasonic/Samsung cells',
                    upgrade: '72V configuration requires 20S battery pack with quality cells',
                    squadTip: {
                        member: 'Billy',
                        quote: 'Make sure it\'s waterproof. Would hate to fry it when we cross that creek behind my place.'
                    }
                },
                {
                    name: 'Controller',
                    description: '72V sine wave controller (100A+ capacity)',
                    stock: 'Sur-Ron uses 60V sine wave controller',
                    upgrade: 'Upgraded controller with programming capabilities',
                    squadTip: {
                        member: 'TBD',
                        quote: 'Sabvoton 72150 with cooling fins. Heat-mapped in all conditions.'
                    }
                },
                {
                    name: 'Suspension',
                    description: 'Inverted front forks with adjustable damping, rear shock with linkage',
                    stock: 'Sur-Ron uses inverted forks with 8" travel and DNM TR rear shock',
                    upgrade: 'Consider fully adjustable suspension for higher speeds',
                    squadTip: {
                        member: 'Charlie',
                        quote: 'DNM USD-8 forks up front and a proper motorcycle rear shock. Makes hitting jumps way more fun.'
                    }
                },
                {
                    name: 'Brakes',
                    description: '4-piston hydraulic disc brakes (front and rear)',
                    stock: 'Sur-Ron uses 4-piston hydraulic disc brakes',
                    upgrade: 'Larger rotors for improved heat dissipation',
                    squadTip: {
                        member: 'Billy',
                        quote: 'Don\'t cheap out here. You\'ll need these when Charlie talks you into something stupid.'
                    }
                },
                {
                    name: 'Transmission',
                    description: 'Primary belt with secondary chain drive (upgraded #420 or #428 chain)',
                    stock: 'Sur-Ron uses 1:7.6 ratio with Continental belt and #420 chain',
                    upgrade: 'Consider stronger chain and sprockets for higher torque',
                    squadTip: {
                        member: 'TBD',
                        quote: 'Documented 17:48 gearing provides optimal balance of acceleration and top speed.'
                    }
                },
                {
                    name: 'Wheels & Tires',
                    description: '19" spoke wheels with all-terrain tires',
                    stock: 'Sur-Ron uses 19x1.4 alloy hubs with 70/100-19 CST tires',
                    upgrade: 'Consider stronger spokes and rims for durability',
                    squadTip: {
                        member: 'Charlie',
                        quote: 'Shinko 241 tires all the way. Billy got me hooked on these for muddy trails.'
                    }
                },
                {
                    name: 'Electrical Components',
                    description: 'LCD display, LED lights, horn, wiring harness',
                    stock: 'Sur-Ron includes digital speedometer and USB port',
                    upgrade: 'Waterproof connectors and higher gauge wiring for 72V system',
                    squadTip: {
                        member: 'Billy',
                        quote: 'Add a GPS tracker. Charlie lost his bike in the woods twice last month.'
                    }
                },
                {
                    name: 'Charger',
                    description: '72V fast charger (10A+)',
                    stock: 'Sur-Ron uses 60V 10A charger (3hr charge time)',
                    upgrade: '72V 10A+ charger with adjustable current option',
                    squadTip: {
                        member: 'TBD',
                        quote: 'Multiple charging profiles recommended. 80% for daily use extends cell life 47%.'
                    }
                }
            ];
            
            // Track selected parts
            const selectedParts = new Set();
            
            // Render parts with selection functionality
            const listElement = document.getElementById('parts-list');
            renderPartsWithSelection(listElement, partsList);
            
            // Set up the Configure Build button
            const configureBuildBtn = document.getElementById('configure-build-btn');
            configureBuildBtn.addEventListener('click', function() {
                if (selectedParts.size === 0) {
                    alert("Please select at least one component for your build!");
                    return;
                }
                
                // Store selected parts in localStorage
                const selectedPartsArray = Array.from(selectedParts);
                localStorage.setItem('selectedSurronParts', JSON.stringify(selectedPartsArray));
                
                // Redirect to the build parts selector page
                window.location.href = 'buildpartsSelector.html?fromSelection=true';
            });
            
            // Set up Clear Selections button
            const clearSelectionsBtn = document.getElementById('clear-selections-btn');
            clearSelectionsBtn.addEventListener('click', function() {
                // Clear all selections
                selectedParts.clear();
                
                // Remove selected class from all parts
                const partItems = document.querySelectorAll('.part-item');
                partItems.forEach(item => {
                    item.classList.remove('selected');
                });
                
                // Update UI
                updateBuildProgress();
                updateSelectedPartsList();
            });
            
            // Function to render parts with selection capability
            function renderPartsWithSelection(container, parts) {
                container.innerHTML = ''; // Clear container
                
                parts.forEach((part, index) => {
                    const li = document.createElement('li');
                    li.className = 'part-item';
                    li.dataset.partIndex = index;
                    
                    // Create selection indicator
                    const selectionIndicator = document.createElement('div');
                    selectionIndicator.className = 'selection-indicator';
                    selectionIndicator.innerHTML = '‚úì';
                    li.appendChild(selectionIndicator);
                    
                    // Create title element
                    const title = document.createElement('h3');
                    title.textContent = part.name;
                    
                    // Create description
                    const description = document.createElement('p');
                    description.className = 'description';
                    description.textContent = part.description;
                    
                    // Create stock specs
                    const stock = document.createElement('p');
                    stock.className = 'stock';
                    stock.innerHTML = '<strong>Stock Sur-Ron:</strong> ' + part.stock;
                    
                    // Create upgrade notes
                    const upgrade = document.createElement('p');
                    upgrade.className = 'upgrade';
                    upgrade.innerHTML = '<strong>72V Upgrade:</strong> ' + part.upgrade;
                    
                    // Create squad tip
                    const squadTip = document.createElement('div');
                    squadTip.className = 'squad-tip ' + part.squadTip.member.toLowerCase();
                    squadTip.innerHTML = `
                        <div class="squad-tip-header">
                            <span class="squad-member-icon">${part.squadTip.member.charAt(0)}</span>
                            <span class="squad-member-name">${part.squadTip.member}'s Tip:</span>
                        </div>
                        <p class="squad-tip-quote">"${part.squadTip.quote}"</p>
                    `;
                    
                    // Append all elements
                    li.appendChild(title);
                    li.appendChild(description);
                    li.appendChild(stock);
                    li.appendChild(upgrade);
                    li.appendChild(squadTip);
                    
                    // Add click handler for selection
                    li.addEventListener('click', function() {
                        const partIndex = this.dataset.partIndex;
                        
                        if (selectedParts.has(partIndex)) {
                            // Deselect
                            selectedParts.delete(partIndex);
                            this.classList.remove('selected');
                        } else {
                            // Select
                            selectedParts.add(partIndex);
                            this.classList.add('selected');
                        }
                        
                        // Update build progress
                        updateBuildProgress();
                        
                        // Update selected parts list
                        updateSelectedPartsList();
                    });
                    
                    container.appendChild(li);
                });
            }
            
            // Update build progress
            function updateBuildProgress() {
                const totalParts = partsList.length;
                const selectedCount = selectedParts.size;
                const progressPercentage = Math.round((selectedCount / totalParts) * 100);
                
                // Update percentage text
                document.getElementById('build-completion').textContent = `${progressPercentage}% Complete`;
                
                // Update progress bar
                document.getElementById('build-progress-fill').style.width = `${progressPercentage}%`;
            }
            
            // Update selected parts list
            function updateSelectedPartsList() {
                const container = document.getElementById('selected-parts-container');
                
                if (selectedParts.size === 0) {
                    container.innerHTML = '<div class="selected-part">Select components to start your build...</div>';
                    return;
                }
                
                // Clear container
                container.innerHTML = '';
                
                // Add selected parts
                selectedParts.forEach(partIndex => {
                    const part = partsList[partIndex];
                    const partElement = document.createElement('div');
                    partElement.className = 'selected-part';
                    partElement.textContent = part.name;
                    container.appendChild(partElement);
                });
            }
            
            // Check for existing selections (if coming back to this page)
            try {
                const savedSelections = localStorage.getItem('selectedSurronParts');
                if (savedSelections) {
                    const parsedSelections = JSON.parse(savedSelections);
                    
                    parsedSelections.forEach(partIndex => {
                        // Add to selection set
                        selectedParts.add(partIndex);
                        
                        // Update UI
                        const partItem = document.querySelector(`.part-item[data-part-index="${partIndex}"]`);
                        if (partItem) {
                            partItem.classList.add('selected');
                        }
                    });
                    
                    // Update UI
                    updateBuildProgress();
                    updateSelectedPartsList();
                }
            } catch (error) {
                console.error('Error loading saved selections:', error);
            }
        });
        
        function downloadLore() {
            // Create a link to download the lore.md file
            const link = document.createElement('a');
            link.href = 'lore.md';
            link.download = 'surron_squad_lore.md';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>